@{
    ViewData["Title"] = "Submit Monthly Claim";
}

<div class="container mt-4">
    <div class="card shadow-lg">
        <div class="card-header text-white" style="background: linear-gradient(90deg, #72427D,  #4A9C8D);">
            <h3 class="mb-0">Lecturer Claim Submission</h3>
        </div>
        <div class="card-body">
            <form asp-controller="Lecturer" asp-action="SubmitClaim" method="post" enctype="multipart/form-data">

                <!-- Hours Worked -->
                <div class="form-group mb-3">
                    <label for="hoursWorked" class="form-label fw-bold">Hours Worked</label>
                    <input type="number" class="form-control" id="hoursWorked" name="hoursWorked" placeholder="Enter total hours" required>
                </div>

                <!-- Hourly Rate -->
                <div class="form-group mb-3">
                    <label for="hourlyRate" class="form-label fw-bold">Hourly Rate (R)</label>
                    <input type="number" class="form-control" id="hourlyRate" name="hourlyRate" value="250" required>
                </div>

                <!-- Number of Sessions -->
                <div class="form-group mb-3">
                    <label for="sessions" class="form-label fw-bold">Number of Sessions</label>
                    <input type="number" class="form-control" id="sessions" name="sessions" value="1" required>
                </div>

                <!-- Module Dropdown -->
                <div class="form-group mb-3">
                    <label for="module" class="form-label fw-bold">Module</label>
                    <select class="form-select" id="module" name="module" required>
                        <option value="">-- Select Module --</option>
                        <option value="Programming 1A">Programming 1A</option>
                        <option value="Programming 1B">Programming 1B</option>
                        <option value="Databases">Databases</option>
                        <option value="Networks">Networks</option>
                        <option value="Information Security">Information Security</option>
                    </select>
                </div>

                <!-- Faculty Dropdown -->
                <div class="form-group mb-3">
                    <label for="faculty" class="form-label fw-bold">Faculty</label>
                    <select class="form-select" id="faculty" name="faculty" required>
                        <option value="">-- Select Faculty --</option>
                        <option value="Science & Technology">Science & Technology</option>
                        <option value="Business & Management">Business & Management</option>
                        <option value="Humanities">Humanities</option>
                        <option value="Education">Education</option>
                    </select>
                </div>

                <!-- Total Amount -->
                <div class="form-group mb-3">
                    <label for="totalAmount" class="form-label fw-bold">Total Amount (R)</label>
                    <input type="text" class="form-control" id="totalAmount" name="totalAmount" readonly value="0.00">
                </div>

                <!-- Supporting Documents -->
                <div class="form-group mb-4">
                    <label for="supportingDocs" class="form-label fw-bold">Supporting Documents</label>
                    <input type="file" class="form-control" id="supportingDocs" name="supportingDocs">
                </div>

                <!-- Submit button -->
                <button type="submit" class="btn btn-success w-100" style="background: linear-gradient(90deg, #43cea2, #185a9d); border: none;">
                    Submit Claim
                </button>
            </form>
        </div>
    </div>
</div>

<!--Auto calculates hours worked,hourly rates and number of sessions-->
<script>

    function calculateTotal() {
        var hoursWorked = parseFloat(document.getElementById("hoursWorked").value) || 0;
        var hourlyRate = parseFloat(document.getElementById("hourlyRate").value) || 0;
        var sessions = parseFloat(document.getElementById("sessions").value) || 1;

        var totalAmount = hoursWorked * hourlyRate * sessions;
        document.getElementById("totalAmount").value = totalAmount.toFixed(2);
    }

    //Attaches calculation to relevant field
    document.getElementById("hoursWorked").addEventListener("input", calculateTotal);
    document.getElementById("hourlyRate").addEventListener("input", calculateTotal);
    document.getElementById("sessions").addEventListener("input", calculateTotal);
</script>
